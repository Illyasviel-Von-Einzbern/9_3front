import{n as k,y as v,b as _,ab as x,r as s,v as a,e as g,o as h,w as C,c as w,f as A,ah as V}from"./index-CIHyU37z.js";import{b as d}from"./route-block-B_A1xBdJ.js";import{V as b}from"./VContainer-Czllfyk0.js";const n=2,P={__name:"index",setup(S){const o=_(),c=k();v(()=>{c.isAdmin?o.replace("/admin"):c.isLoggedIn?o.replace("/restaurants"):o.replace("/login")}),x();const p=s([]),i=a(()=>p.value.filter(r=>{const t=r.name.toLowerCase().includes(m.value.toLowerCase()),e=l.value?r.category===l.value:!0;return t&&e}).sort((r,t)=>{const e=f[y.value];return e.key==="createdAt"||e.key==="updatedAt"?e.direction*(new Date(r[e.key])-new Date(t[e.key])):e.direction*(r[e.key]>t[e.key]?1:-1)})),u=s(1);a(()=>Math.ceil(i.value.length/n)),a(()=>i.value.slice((u.value-1)*n,u.value*n));const m=s(""),l=s(""),y=s(0),f=[{text:"名稱",key:"name",direction:1},{text:"價格：低到高",key:"price",direction:1},{text:"價格：高到低",key:"price",direction:-1},{text:"最新商品",key:"createdAt",direction:-1},{text:"最舊商品",key:"createdAt",direction:1}];return(r,t)=>(h(),g(b,{class:"text-center py-10"},{default:C(()=>[w(V,{class:"mb-4",color:"primary",indeterminate:"",size:"48"}),t[0]||(t[0]=A("div",null,"正在導向餐廳列表頁...",-1))]),_:1,__:[0]}))}};typeof d=="function"&&d(P);export{P as default};
