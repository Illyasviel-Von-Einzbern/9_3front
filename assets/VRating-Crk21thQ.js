import{g as $,p as z,aw as w,I as A,P as T,v as s,D,b3 as E,t as H,bE as j,u as q,c as u,as as G,at as P,$ as J,a0 as K,bC as O,aN as Q,a6 as U,aS as k,f as i,F as M,m as W,V as X,i as Y}from"./index-AWgwsy0c.js";const Z=z({name:String,itemAriaLabel:{type:String,default:"$vuetify.rating.ariaLabel.item"},activeColor:String,color:String,clearable:Boolean,disabled:Boolean,emptyIcon:{type:k,default:"$ratingEmpty"},fullIcon:{type:k,default:"$ratingFull"},halfIncrements:Boolean,hover:Boolean,length:{type:[Number,String],default:5},readonly:Boolean,modelValue:{type:[Number,String],default:0},itemLabels:Array,itemLabelPosition:{type:String,default:"top",validator:e=>["top","bottom"].includes(e)},ripple:Boolean,...U(),...Q(),...O(),...K(),...J()},"VRating"),ee=$()({name:"VRating",props:Z(),emits:{"update:modelValue":e=>!0},setup(e,B){let{slots:r}=B;const{t:h}=w(),{themeClasses:F}=A(e),y=T(e,"modelValue"),d=s(()=>D(parseFloat(y.value),0,Number(e.length))),I=s(()=>E(Number(e.length),1)),V=s(()=>I.value.flatMap(a=>e.halfIncrements?[a-.5,a]:[a])),m=H(-1),b=s(()=>V.value.map(a=>{const t=e.hover&&m.value>-1,n=d.value>=a,l=m.value>=a,o=(t?l:n)?e.fullIcon:e.emptyIcon,f=e.activeColor??e.color,g=n||l?f:e.color;return{isFilled:n,isHovered:l,icon:o,color:g}})),N=s(()=>[0,...V.value].map(a=>{function t(){m.value=a}function n(){m.value=-1}function l(){e.disabled||e.readonly||(y.value=d.value===a&&e.clearable?0:a)}return{onMouseenter:e.hover?t:void 0,onMouseleave:e.hover?n:void 0,onClick:l}})),R=j(),S=s(()=>e.name??`v-rating-${R}`);function v(a){var _,C;let{value:t,index:n,showStar:l=!0}=a;const{onMouseenter:c,onMouseleave:o,onClick:f}=N.value[n+1],g=`${S.value}-${String(t).replace(".","-")}`,x={color:(_=b.value[n])==null?void 0:_.color,density:e.density,disabled:e.disabled,icon:(C=b.value[n])==null?void 0:C.icon,ripple:e.ripple,size:e.size,variant:"plain"};return i(M,null,[i("label",{for:g,class:P({"v-rating__item--half":e.halfIncrements&&t%1>0,"v-rating__item--full":e.halfIncrements&&t%1===0}),onMouseenter:c,onMouseleave:o,onClick:f},[i("span",{class:"v-rating__hidden"},[h(e.itemAriaLabel,t,e.length)]),l?r.item?r.item({...b.value[n],props:x,value:t,index:n,rating:d.value}):u(X,W({"aria-label":h(e.itemAriaLabel,t,e.length)},x),null):void 0]),i("input",{class:"v-rating__hidden",name:S.value,id:g,type:"radio",value:t,checked:d.value===t,tabindex:-1,readonly:e.readonly,disabled:e.disabled},null)])}function L(a){return r["item-label"]?r["item-label"](a):a.label?i("span",null,[a.label]):i("span",null,[Y("Â ")])}return q(()=>{var t;const a=!!((t=e.itemLabels)!=null&&t.length)||r["item-label"];return u(e.tag,{class:P(["v-rating",{"v-rating--hover":e.hover,"v-rating--readonly":e.readonly},F.value,e.class]),style:G(e.style)},{default:()=>[u(v,{value:0,index:-1,showStar:!1},null),I.value.map((n,l)=>{var c,o;return i("div",{class:"v-rating__wrapper"},[a&&e.itemLabelPosition==="top"?L({value:n,index:l,label:(c=e.itemLabels)==null?void 0:c[l]}):void 0,i("div",{class:"v-rating__item"},[e.halfIncrements?i(M,null,[u(v,{value:n-.5,index:l*2},null),u(v,{value:n,index:l*2+1},null)]):u(v,{value:n,index:l},null)]),a&&e.itemLabelPosition==="bottom"?L({value:n,index:l,label:(o=e.itemLabels)==null?void 0:o[l]}):void 0])})]})}),{}}});export{ee as V};
