import{b6 as ct,T as C,P as z,p as V,aA as q,az as U,r as j,v as D,b7 as ae,b8 as Ce,z as fe,b9 as Be,D as ue,b1 as ie,t as ft,aw as ne,ba as Z,g as H,u as Q,f as h,c as p,m as $,aS as W,bb as vt,x as B,at as Y,E as mt,bc as gt,bd as bt,be as ht,K as yt,M as ve,bf as xt,F as K,bg as St,a4 as me,ac as Pe,as as _e,V as Oe,i as we,a$ as de,ao as ee,ae as pt,I as Pt,aM as wt,$ as kt,a0 as Dt,aN as Tt,a6 as It,bh as te,bi as Vt,X as Ft}from"./index-CIHyU37z.js";import{V as ke}from"./VPagination-CLol_7gt.js";import{V as Ee}from"./VSelect-CxX8EwAn.js";import{V as ge}from"./VCheckboxBtn-BFND6HbK.js";import{V as Ct}from"./VChip-Crq8nVJ7.js";import{u as Bt,m as _t}from"./filter-BW8gkpM9.js";import{V as Ot}from"./VDivider-3u-8eSsr.js";function De(e,l,a){return Object.keys(e).filter(t=>ct(t)&&t.endsWith(l)).reduce((t,r)=>(t[r.slice(0,-l.length)]=d=>e[r](d,a(d)),t),{})}const Et=V({expandOnClick:Boolean,showExpand:Boolean,expanded:{type:Array,default:()=>[]}},"DataTable-expand"),Ae=Symbol.for("vuetify:datatable:expanded");function At(e){const l=C(()=>e.expandOnClick),a=z(e,"expanded",e.expanded,n=>new Set(n),n=>[...n.values()]);function t(n,o){const i=new Set(a.value);o?i.add(n.value):i.delete(n.value),a.value=i}function r(n){return a.value.has(n.value)}function d(n){t(n,!r(n))}const s={expand:t,expanded:a,expandOnClick:l,isExpanded:r,toggleExpand:d};return U(Ae,s),s}function $e(){const e=q(Ae);if(!e)throw new Error("foo");return e}const $t=V({groupBy:{type:Array,default:()=>[]}},"DataTable-group"),Ne=Symbol.for("vuetify:data-table-group");function Nt(e){return{groupBy:z(e,"groupBy")}}function Rt(e){const{disableSort:l,groupBy:a,sortBy:t}=e,r=j(new Set),d=D(()=>a.value.map(f=>({...f,order:f.order??!1})).concat(l!=null&&l.value?[]:t.value));function s(f){return r.value.has(f.id)}function n(f){const v=new Set(r.value);s(f)?v.delete(f.id):v.add(f.id),r.value=v}function o(f){function v(m){const x=[];for(const b of m.items)"type"in b&&b.type==="group"?x.push(...v(b)):x.push(b);return[...new Set(x)]}return v({items:f})}const i={sortByWithGroups:d,toggleGroup:n,opened:r,groupBy:a,extractRows:o,isGroupOpen:s};return U(Ne,i),i}function Re(){const e=q(Ne);if(!e)throw new Error("Missing group!");return e}function Ht(e,l){if(!e.length)return[];const a=new Map;for(const t of e){const r=ae(t.raw,l);a.has(r)||a.set(r,[]),a.get(r).push(t)}return a}function He(e,l){let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,t=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"root";if(!l.length)return[];const r=Ht(e,l[0]),d=[],s=l.slice(1);return r.forEach((n,o)=>{const i=l[0],f=`${t}_${i}_${o}`;d.push({depth:a,id:f,key:i,value:o,items:s.length?He(n,s,a+1,f):n,type:"group"})}),d}function Ge(e,l){const a=[];for(const t of e)"type"in t&&t.type==="group"?(t.value!=null&&a.push(t),(l.has(t.id)||t.value==null)&&a.push(...Ge(t.items,l))):a.push(t);return a}function Gt(e,l,a){return{flatItems:D(()=>{if(!l.value.length)return e.value;const r=He(e.value,l.value.map(d=>d.key));return Ge(r,a.value)})}}function Lt(e){let{page:l,itemsPerPage:a,sortBy:t,groupBy:r,search:d}=e;const s=Ce("VDataTable"),n=()=>({page:l.value,itemsPerPage:a.value,sortBy:t.value,groupBy:r.value,search:d.value});let o=null;fe(n,i=>{Be(o,i)||(o&&o.search!==i.search&&(l.value=1),s.emit("update:options",i),o=i)},{deep:!0,immediate:!0})}const Mt=V({page:{type:[Number,String],default:1},itemsPerPage:{type:[Number,String],default:10}},"DataTable-paginate"),Le=Symbol.for("vuetify:data-table-pagination");function jt(e){const l=z(e,"page",void 0,t=>Number(t??1)),a=z(e,"itemsPerPage",void 0,t=>Number(t??10));return{page:l,itemsPerPage:a}}function Wt(e){const{page:l,itemsPerPage:a,itemsLength:t}=e,r=D(()=>a.value===-1?0:a.value*(l.value-1)),d=D(()=>a.value===-1?t.value:Math.min(t.value,r.value+a.value)),s=D(()=>a.value===-1||t.value===0?1:Math.ceil(t.value/a.value));fe([l,s],()=>{l.value>s.value&&(l.value=s.value)});function n(m){a.value=m,l.value=1}function o(){l.value=ue(l.value+1,1,s.value)}function i(){l.value=ue(l.value-1,1,s.value)}function f(m){l.value=ue(m,1,s.value)}const v={page:l,itemsPerPage:a,startIndex:r,stopIndex:d,pageCount:s,itemsLength:t,nextPage:o,prevPage:i,setPage:f,setItemsPerPage:n};return U(Le,v),v}function zt(){const e=q(Le);if(!e)throw new Error("Missing pagination!");return e}function Kt(e){const l=Ce("usePaginatedItems"),{items:a,startIndex:t,stopIndex:r,itemsPerPage:d}=e,s=D(()=>d.value<=0?a.value:a.value.slice(t.value,r.value));return fe(s,n=>{l.emit("update:currentItems",n)},{immediate:!0}),{paginatedItems:s}}const qt={showSelectAll:!1,allSelected:()=>[],select:e=>{var t;let{items:l,value:a}=e;return new Set(a?[(t=l[0])==null?void 0:t.value]:[])},selectAll:e=>{let{selected:l}=e;return l}},Me={showSelectAll:!0,allSelected:e=>{let{currentPage:l}=e;return l},select:e=>{let{items:l,value:a,selected:t}=e;for(const r of l)a?t.add(r.value):t.delete(r.value);return t},selectAll:e=>{let{value:l,currentPage:a,selected:t}=e;return Me.select({items:a,value:l,selected:t})}},je={showSelectAll:!0,allSelected:e=>{let{allItems:l}=e;return l},select:e=>{let{items:l,value:a,selected:t}=e;for(const r of l)a?t.add(r.value):t.delete(r.value);return t},selectAll:e=>{let{value:l,allItems:a,selected:t}=e;return je.select({items:a,value:l,selected:t})}},Ut=V({showSelect:Boolean,selectStrategy:{type:[String,Object],default:"page"},modelValue:{type:Array,default:()=>[]},valueComparator:{type:Function,default:Be}},"DataTable-select"),We=Symbol.for("vuetify:data-table-selection");function Qt(e,l){let{allItems:a,currentPage:t}=l;const r=z(e,"modelValue",e.modelValue,u=>new Set(ie(u).map(S=>{var I;return((I=a.value.find(P=>e.valueComparator(S,P.value)))==null?void 0:I.value)??S})),u=>[...u.values()]),d=D(()=>a.value.filter(u=>u.selectable)),s=D(()=>t.value.filter(u=>u.selectable)),n=D(()=>{if(typeof e.selectStrategy=="object")return e.selectStrategy;switch(e.selectStrategy){case"single":return qt;case"all":return je;case"page":default:return Me}}),o=ft(null);function i(u){return ie(u).every(S=>r.value.has(S.value))}function f(u){return ie(u).some(S=>r.value.has(S.value))}function v(u,S){const I=n.value.select({items:u,value:S,selected:new Set(r.value)});r.value=I}function m(u,S,I){const P=[];if(S=S??t.value.findIndex(_=>_.value===u.value),e.selectStrategy!=="single"&&(I!=null&&I.shiftKey)&&o.value!==null){const[_,R]=[o.value,S].sort((E,w)=>E-w);P.push(...t.value.slice(_,R+1).filter(E=>E.selectable))}else P.push(u),o.value=S;v(P,!i([u]))}function x(u){const S=n.value.selectAll({value:u,allItems:d.value,currentPage:s.value,selected:new Set(r.value)});r.value=S}const b=D(()=>r.value.size>0),y=D(()=>{const u=n.value.allSelected({allItems:d.value,currentPage:s.value});return!!u.length&&i(u)}),c=C(()=>n.value.showSelectAll),T={toggleSelect:m,select:v,selectAll:x,isSelected:i,isSomeSelected:f,someSelected:b,allSelected:y,showSelectAll:c,lastSelectedIndex:o,selectStrategy:n};return U(We,T),T}function re(){const e=q(We);if(!e)throw new Error("Missing selection!");return e}const Xt=V({sortBy:{type:Array,default:()=>[]},customKeySort:Object,multiSort:Boolean,mustSort:Boolean},"DataTable-sort"),ze=Symbol.for("vuetify:data-table-sort");function Jt(e){const l=z(e,"sortBy"),a=C(()=>e.mustSort),t=C(()=>e.multiSort);return{sortBy:l,mustSort:a,multiSort:t}}function Yt(e){const{sortBy:l,mustSort:a,multiSort:t,page:r}=e,d=o=>{if(o.key==null)return;let i=l.value.map(v=>({...v}))??[];const f=i.find(v=>v.key===o.key);f?f.order==="desc"?a.value&&i.length===1?f.order="asc":i=i.filter(v=>v.key!==o.key):f.order="desc":t.value?i.push({key:o.key,order:"asc"}):i=[{key:o.key,order:"asc"}],l.value=i,r&&(r.value=1)};function s(o){return!!l.value.find(i=>i.key===o.key)}const n={sortBy:l,toggleSort:d,isSorted:s};return U(ze,n),n}function Ke(){const e=q(ze);if(!e)throw new Error("Missing sort!");return e}function Zt(e,l,a,t){const r=ne();return{sortedItems:D(()=>{var s,n;return a.value.length?ea(l.value,a.value,r.current.value,{transform:t==null?void 0:t.transform,sortFunctions:{...e.customKeySort,...(s=t==null?void 0:t.sortFunctions)==null?void 0:s.value},sortRawFunctions:(n=t==null?void 0:t.sortRawFunctions)==null?void 0:n.value}):l.value})}}function ea(e,l,a,t){const r=new Intl.Collator(a,{sensitivity:"accent",usage:"sort"});return e.map(s=>[s,t!=null&&t.transform?t.transform(s):s]).sort((s,n)=>{var o,i;for(let f=0;f<l.length;f++){let v=!1;const m=l[f].key,x=l[f].order??"asc";if(x===!1)continue;let b=ae(s[1],m),y=ae(n[1],m),c=s[0].raw,T=n[0].raw;if(x==="desc"&&([b,y]=[y,b],[c,T]=[T,c]),(o=t==null?void 0:t.sortRawFunctions)!=null&&o[m]){const u=t.sortRawFunctions[m](c,T);if(u==null)continue;if(v=!0,u)return u}if((i=t==null?void 0:t.sortFunctions)!=null&&i[m]){const u=t.sortFunctions[m](b,y);if(u==null)continue;if(v=!0,u)return u}if(!v&&(b instanceof Date&&y instanceof Date&&(b=b.getTime(),y=y.getTime()),[b,y]=[b,y].map(u=>u!=null?u.toString().toLocaleLowerCase():u),b!==y))return Z(b)&&Z(y)?0:Z(b)?-1:Z(y)?1:!isNaN(b)&&!isNaN(y)?Number(b)-Number(y):r.compare(b,y)}return 0}).map(s=>{let[n]=s;return n})}const qe=V({prevIcon:{type:W,default:"$prev"},nextIcon:{type:W,default:"$next"},firstIcon:{type:W,default:"$first"},lastIcon:{type:W,default:"$last"},itemsPerPageText:{type:String,default:"$vuetify.dataFooter.itemsPerPageText"},pageText:{type:String,default:"$vuetify.dataFooter.pageText"},firstPageLabel:{type:String,default:"$vuetify.dataFooter.firstPage"},prevPageLabel:{type:String,default:"$vuetify.dataFooter.prevPage"},nextPageLabel:{type:String,default:"$vuetify.dataFooter.nextPage"},lastPageLabel:{type:String,default:"$vuetify.dataFooter.lastPage"},itemsPerPageOptions:{type:Array,default:()=>[{value:10,title:"10"},{value:25,title:"25"},{value:50,title:"50"},{value:100,title:"100"},{value:-1,title:"$vuetify.dataFooter.itemsPerPageAll"}]},showCurrentPage:Boolean},"VDataTableFooter"),Te=H()({name:"VDataTableFooter",props:qe(),setup(e,l){let{slots:a}=l;const{t}=ne(),{page:r,pageCount:d,startIndex:s,stopIndex:n,itemsLength:o,itemsPerPage:i,setItemsPerPage:f}=zt(),v=D(()=>e.itemsPerPageOptions.map(m=>typeof m=="number"?{value:m,title:m===-1?t("$vuetify.dataFooter.itemsPerPageAll"):String(m)}:{...m,title:isNaN(Number(m.title))?t(m.title):m.title}));return Q(()=>{var x;const m=ke.filterProps(e);return h("div",{class:"v-data-table-footer"},[(x=a.prepend)==null?void 0:x.call(a),h("div",{class:"v-data-table-footer__items-per-page"},[h("span",{"aria-label":t(e.itemsPerPageText)},[t(e.itemsPerPageText)]),p(Ee,{items:v.value,modelValue:i.value,"onUpdate:modelValue":b=>f(Number(b)),density:"compact",variant:"outlined",hideDetails:!0},null)]),h("div",{class:"v-data-table-footer__info"},[h("div",null,[t(e.pageText,o.value?s.value+1:0,n.value,o.value)])]),h("div",{class:"v-data-table-footer__pagination"},[p(ke,$({modelValue:r.value,"onUpdate:modelValue":b=>r.value=b,density:"comfortable",firstAriaLabel:e.firstPageLabel,lastAriaLabel:e.lastPageLabel,length:d.value,nextAriaLabel:e.nextPageLabel,previousAriaLabel:e.prevPageLabel,rounded:!0,showFirstLastPage:!0,totalVisible:e.showCurrentPage?1:0,variant:"plain"},m),null)])])}),{}}}),le=vt({align:{type:String,default:"start"},fixed:{type:[Boolean,String],default:!1},fixedOffset:[Number,String],fixedEndOffset:[Number,String],height:[Number,String],lastFixed:Boolean,firstFixedEnd:Boolean,noPadding:Boolean,tag:String,width:[Number,String],maxWidth:[Number,String],nowrap:Boolean},(e,l)=>{let{slots:a}=l;const t=e.tag??"td",r=typeof e.fixed=="string"?e.fixed:e.fixed?"start":"none";return p(t,{class:Y(["v-data-table__td",{"v-data-table-column--fixed":r==="start","v-data-table-column--fixed-end":r==="end","v-data-table-column--last-fixed":e.lastFixed,"v-data-table-column--first-fixed-end":e.firstFixedEnd,"v-data-table-column--no-padding":e.noPadding,"v-data-table-column--nowrap":e.nowrap},`v-data-table-column--align-${e.align}`]),style:{height:B(e.height),width:B(e.width),maxWidth:B(e.maxWidth),left:r==="start"?B(e.fixedOffset||null):void 0,right:r==="end"?B(e.fixedEndOffset||null):void 0}},{default:()=>{var d;return[(d=a.default)==null?void 0:d.call(a)]}})}),ta=V({headers:Array},"DataTable-header"),Ue=Symbol.for("vuetify:data-table-headers"),Qe={title:"",sortable:!1},aa={...Qe,width:48};function la(){const l=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).map(a=>({element:a,priority:0}));return{enqueue:(a,t)=>{let r=!1;for(let d=0;d<l.length;d++)if(l[d].priority>t){l.splice(d,0,{element:a,priority:t}),r=!0;break}r||l.push({element:a,priority:t})},size:()=>l.length,count:()=>{let a=0;if(!l.length)return 0;const t=Math.floor(l[0].priority);for(let r=0;r<l.length;r++)Math.floor(l[r].priority)===t&&(a+=1);return a},dequeue:()=>l.shift()}}function ce(e){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];if(!e.children)l.push(e);else for(const a of e.children)ce(a,l);return l}function Xe(e){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:new Set;for(const a of e)a.key&&l.add(a.key),a.children&&Xe(a.children,l);return l}function na(e){if(e.key){if(e.key==="data-table-group")return Qe;if(["data-table-expand","data-table-select"].includes(e.key))return aa}}function be(e){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return e.children?Math.max(l,...e.children.map(a=>be(a,l+1))):l}function ra(e){let l=!1;function a(n,o){var v;let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"none";if(!n)return;i!=="none"&&(n.fixed=i),n.fixed===!0&&(n.fixed="start");const f=o==="start"?(v=n.children)==null?void 0:v.toReversed():n.children;if(n.fixed===o)if(f)for(const m of f)a(m,o,o);else!l&&o==="start"?n.lastFixed=!0:!l&&o==="end"?n.firstFixedEnd=!0:isNaN(Number(n.width))?bt(`Multiple fixed columns should have a static width (key: ${n.key})`):n.minWidth=Math.max(Number(n.width)||0,Number(n.minWidth)||0),l=!0;else if(f)for(const m of f)a(m,o);else l=!1}for(const n of e.toReversed())a(n,"start");for(const n of e)a(n,"end");function t(n){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(!n)return o;if(n.children){n.fixedOffset=o;for(const i of n.children)o=t(i,o)}else n.fixed&&n.fixed!=="end"&&(n.fixedOffset=o,o+=parseFloat(n.width||"0")||0);return o}let r=0;for(const n of e)r=t(n,r);function d(n){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(!n)return o;if(n.children){n.fixedEndOffset=o;for(const i of n.children)o=d(i,o)}else n.fixed==="end"&&(n.fixedEndOffset=o,o+=parseFloat(n.width||"0")||0);return o}let s=0;for(const n of e.toReversed())s=d(n,s)}function oa(e,l){const a=[];let t=0;const r=la(e);for(;r.size()>0;){let s=r.count();const n=[];let o=1;for(;s>0;){const{element:i,priority:f}=r.dequeue(),v=l-t-be(i);if(n.push({...i,rowspan:v??1,colspan:i.children?ce(i).length:1}),i.children)for(const m of i.children){const x=f%1+o/Math.pow(10,t+2);r.enqueue(m,t+v+x)}o+=1,s-=1}t+=1,a.push(n)}return{columns:e.map(s=>ce(s)).flat(),headers:a}}function Je(e){const l=[];for(const a of e){const t={...na(a),...a},r=t.key??(typeof t.value=="string"?t.value:null),d=t.value??r??null,s={...t,key:r,value:d,sortable:t.sortable??(t.key!=null||!!t.sort),children:t.children?Je(t.children):void 0};l.push(s)}return l}function sa(e,l){const a=j([]),t=j([]),r=j({}),d=j({}),s=j({});mt(()=>{var y,c,T;const i=(e.headers||Object.keys(e.items[0]??{}).map(u=>({key:u,title:gt(u)}))).slice(),f=Xe(i);(y=l==null?void 0:l.groupBy)!=null&&y.value.length&&!f.has("data-table-group")&&i.unshift({key:"data-table-group",title:"Group"}),(c=l==null?void 0:l.showSelect)!=null&&c.value&&!f.has("data-table-select")&&i.unshift({key:"data-table-select"}),(T=l==null?void 0:l.showExpand)!=null&&T.value&&!f.has("data-table-expand")&&i.push({key:"data-table-expand"});const v=Je(i);ra(v);const m=Math.max(...v.map(u=>be(u)))+1,x=oa(v,m);a.value=x.headers,t.value=x.columns;const b=x.headers.flat(1);for(const u of b)u.key&&(u.sortable&&(u.sort&&(r.value[u.key]=u.sort),u.sortRaw&&(d.value[u.key]=u.sortRaw)),u.filter&&(s.value[u.key]=u.filter))});const n={headers:a,columns:t,sortFunctions:r,sortRawFunctions:d,filterFunctions:s};return U(Ue,n),n}function oe(){const e=q(Ue);if(!e)throw new Error("Missing headers!");return e}const Ye=V({color:String,disableSort:Boolean,fixedHeader:Boolean,multiSort:Boolean,sortAscIcon:{type:W,default:"$sortAsc"},sortDescIcon:{type:W,default:"$sortDesc"},headerProps:{type:Object},sticky:Boolean,...me(),...St()},"VDataTableHeaders"),Ie=H()({name:"VDataTableHeaders",props:Ye(),setup(e,l){let{slots:a}=l;const{t}=ne(),{toggleSort:r,sortBy:d,isSorted:s}=Ke(),{someSelected:n,allSelected:o,selectAll:i,showSelectAll:f}=re(),{columns:v,headers:m}=oe(),{loaderClasses:x}=ht(e);function b(w,g){if(!(e.sticky||e.fixedHeader)&&!w.fixed)return;const k=typeof w.fixed=="string"?w.fixed:w.fixed?"start":"none";return{position:"sticky",left:k==="start"?B(w.fixedOffset):void 0,right:k==="end"?B(w.fixedEndOffset):void 0,top:e.sticky||e.fixedHeader?`calc(var(--v-table-header-height) * ${g})`:void 0}}function y(w,g){w.key==="Enter"&&!e.disableSort&&r(g)}function c(w){const g=d.value.find(k=>k.key===w.key);return g?g.order==="asc"?e.sortAscIcon:e.sortDescIcon:e.sortAscIcon}const{backgroundColorClasses:T,backgroundColorStyles:u}=yt(()=>e.color),{displayClasses:S,mobile:I}=ve(e),P=D(()=>({headers:m.value,columns:v.value,toggleSort:r,isSorted:s,sortBy:d.value,someSelected:n.value,allSelected:o.value,selectAll:i,getSortIcon:c})),_=D(()=>["v-data-table__th",{"v-data-table__th--sticky":e.sticky||e.fixedHeader},S.value,x.value]),R=w=>{let{column:g,x:k,y:F}=w;const A=g.key==="data-table-select"||g.key==="data-table-expand",X=$(e.headerProps??{},g.headerProps??{});return p(le,$({tag:"th",align:g.align,class:[{"v-data-table__th--sortable":g.sortable&&!e.disableSort,"v-data-table__th--sorted":s(g),"v-data-table__th--fixed":g.fixed},..._.value],style:{width:B(g.width),minWidth:B(g.minWidth),maxWidth:B(g.maxWidth),...b(g,F)},colspan:g.colspan,rowspan:g.rowspan,fixed:g.fixed,nowrap:g.nowrap,lastFixed:g.lastFixed,firstFixedEnd:g.firstFixedEnd,noPadding:A,tabindex:g.sortable?0:void 0,onClick:g.sortable?()=>r(g):void 0,onKeydown:g.sortable?G=>y(G,g):void 0},X),{default:()=>{var M;const G=`header.${g.key}`,L={column:g,selectAll:i,isSorted:s,toggleSort:r,sortBy:d.value,someSelected:n.value,allSelected:o.value,getSortIcon:c};return a[G]?a[G](L):g.key==="data-table-select"?((M=a["header.data-table-select"])==null?void 0:M.call(a,L))??(f.value&&p(ge,{modelValue:o.value,indeterminate:n.value&&!o.value,"onUpdate:modelValue":i},null)):h("div",{class:"v-data-table-header__content"},[h("span",null,[g.title]),g.sortable&&!e.disableSort&&p(Pe,{key:"icon",class:"v-data-table-header__sort-icon",icon:c(g)},null),e.multiSort&&s(g)&&h("div",{key:"badge",class:Y(["v-data-table-header__sort-badge",...T.value]),style:_e(u.value)},[d.value.findIndex(se=>se.key===g.key)+1])])}})},E=()=>{const w=D(()=>v.value.filter(k=>(k==null?void 0:k.sortable)&&!e.disableSort)),g=D(()=>{if(v.value.find(F=>F.key==="data-table-select")!=null)return o.value?"$checkboxOn":n.value?"$checkboxIndeterminate":"$checkboxOff"});return p(le,$({tag:"th",class:[..._.value],colspan:m.value.length+1},e.headerProps),{default:()=>[h("div",{class:"v-data-table-header__content"},[p(Ee,{chips:!0,class:"v-data-table__td-sort-select",clearable:!0,density:"default",items:w.value,label:t("$vuetify.dataTable.sortBy"),multiple:e.multiSort,variant:"underlined","onClick:clear":()=>d.value=[],appendIcon:g.value,"onClick:append":()=>i(!o.value)},{...a,chip:k=>{var F;return p(Ct,{onClick:(F=k.item.raw)!=null&&F.sortable?()=>r(k.item.raw):void 0,onMousedown:A=>{A.preventDefault(),A.stopPropagation()}},{default:()=>[k.item.title,p(Pe,{class:Y(["v-data-table__td-sort-icon",s(k.item.raw)&&"v-data-table__td-sort-icon-active"]),icon:c(k.item.raw),size:"small"},null)]})}})])]})};Q(()=>I.value?h("tr",null,[p(E,null,null)]):h(K,null,[a.headers?a.headers(P.value):m.value.map((w,g)=>h("tr",null,[w.map((k,F)=>p(R,{column:k,x:F,y:g},null))])),e.loading&&h("tr",{class:"v-data-table-progress"},[h("th",{colspan:v.value.length},[p(xt,{name:"v-data-table-progress",absolute:!0,active:!0,color:typeof e.loading=="boolean"?void 0:e.loading,indeterminate:!0},{default:a.loader})])])]))}}),ua=V({item:{type:Object,required:!0}},"VDataTableGroupHeaderRow"),ia=H()({name:"VDataTableGroupHeaderRow",props:ua(),setup(e,l){let{slots:a}=l;const{isGroupOpen:t,toggleGroup:r,extractRows:d}=Re(),{isSelected:s,isSomeSelected:n,select:o}=re(),{columns:i}=oe(),f=D(()=>d([e.item]));return()=>h("tr",{class:"v-data-table-group-header-row",style:{"--v-data-table-group-header-row-depth":e.item.depth}},[i.value.map(v=>{var m,x;if(v.key==="data-table-group"){const b=t(e.item)?"$expand":"$next",y=()=>r(e.item);return((m=a["data-table-group"])==null?void 0:m.call(a,{item:e.item,count:f.value.length,props:{icon:b,onClick:y}}))??p(le,{class:"v-data-table-group-header-row__column"},{default:()=>[p(Oe,{size:"small",variant:"text",icon:b,onClick:y},null),h("span",null,[e.item.value]),h("span",null,[we("("),f.value.length,we(")")])]})}if(v.key==="data-table-select"){const b=s(f.value),y=n(f.value)&&!b,c=T=>o(f.value,T);return((x=a["data-table-select"])==null?void 0:x.call(a,{props:{modelValue:b,indeterminate:y,"onUpdate:modelValue":c}}))??h("td",null,[p(ge,{modelValue:b,indeterminate:y,"onUpdate:modelValue":c},null)])}return h("td",null,null)})])}}),da=V({index:Number,item:Object,cellProps:[Object,Function],onClick:de(),onContextmenu:de(),onDblclick:de(),...me()},"VDataTableRow"),ca=H()({name:"VDataTableRow",props:da(),setup(e,l){let{slots:a}=l;const{displayClasses:t,mobile:r}=ve(e,"v-data-table__tr"),{isSelected:d,toggleSelect:s,someSelected:n,allSelected:o,selectAll:i}=re(),{isExpanded:f,toggleExpand:v}=$e(),{toggleSort:m,sortBy:x,isSorted:b}=Ke(),{columns:y}=oe();Q(()=>h("tr",{class:Y(["v-data-table__tr",{"v-data-table__tr--clickable":!!(e.onClick||e.onContextmenu||e.onDblclick)},t.value]),onClick:e.onClick,onContextmenu:e.onContextmenu,onDblclick:e.onDblclick},[e.item&&y.value.map((c,T)=>{const u=e.item,S=`item.${c.key}`,I=`header.${c.key}`,P={index:e.index,item:u.raw,internalItem:u,value:ae(u.columns,c.key),column:c,isSelected:d,toggleSelect:s,isExpanded:f,toggleExpand:v},_={column:c,selectAll:i,isSorted:b,toggleSort:m,sortBy:x.value,someSelected:n.value,allSelected:o.value,getSortIcon:()=>""},R=typeof e.cellProps=="function"?e.cellProps({index:P.index,item:P.item,internalItem:P.internalItem,value:P.value,column:c}):e.cellProps,E=typeof c.cellProps=="function"?c.cellProps({index:P.index,item:P.item,internalItem:P.internalItem,value:P.value}):c.cellProps;return p(le,$({align:c.align,class:{"v-data-table__td--expanded-row":c.key==="data-table-expand","v-data-table__td--select-row":c.key==="data-table-select"},fixed:c.fixed,fixedOffset:c.fixedOffset,fixedEndOffset:c.fixedEndOffset,lastFixed:c.lastFixed,firstFixedEnd:c.firstFixedEnd,maxWidth:r.value?void 0:c.maxWidth,noPadding:c.key==="data-table-select"||c.key==="data-table-expand",nowrap:c.nowrap,width:r.value?void 0:c.width},R,E),{default:()=>{var g,k,F,A;if(c.key==="data-table-select")return((g=a["item.data-table-select"])==null?void 0:g.call(a,{...P,props:{disabled:!u.selectable,modelValue:d([u]),onClick:ee(()=>s(u),["stop"])}}))??p(ge,{disabled:!u.selectable,modelValue:d([u]),onClick:ee(X=>s(u,e.index,X),["stop"])},null);if(c.key==="data-table-expand")return((k=a["item.data-table-expand"])==null?void 0:k.call(a,{...P,props:{icon:f(u)?"$collapse":"$expand",size:"small",variant:"text",onClick:ee(()=>v(u),["stop"])}}))??p(Oe,{icon:f(u)?"$collapse":"$expand",size:"small",variant:"text",onClick:ee(()=>v(u),["stop"])},null);if(a[S]&&!r.value)return a[S](P);const w=pt(P.value);return r.value?h(K,null,[h("div",{class:"v-data-table__td-title"},[((F=a[I])==null?void 0:F.call(a,_))??c.title]),h("div",{class:"v-data-table__td-value"},[((A=a[S])==null?void 0:A.call(a,P))??w])]):w}})})]))}}),Ze=V({loading:[Boolean,String],loadingText:{type:String,default:"$vuetify.dataIterator.loadingText"},hideNoData:Boolean,items:{type:Array,default:()=>[]},noDataText:{type:String,default:"$vuetify.noDataText"},rowProps:[Object,Function],cellProps:[Object,Function],...me()},"VDataTableRows"),Ve=H()({name:"VDataTableRows",inheritAttrs:!1,props:Ze(),setup(e,l){let{attrs:a,slots:t}=l;const{columns:r}=oe(),{expandOnClick:d,toggleExpand:s,isExpanded:n}=$e(),{isSelected:o,toggleSelect:i}=re(),{toggleGroup:f,isGroupOpen:v}=Re(),{t:m}=ne(),{mobile:x}=ve(e);return Q(()=>{var b,y;return e.loading&&(!e.items.length||t.loading)?h("tr",{class:"v-data-table-rows-loading",key:"loading"},[h("td",{colspan:r.value.length},[((b=t.loading)==null?void 0:b.call(t))??m(e.loadingText)])]):!e.loading&&!e.items.length&&!e.hideNoData?h("tr",{class:"v-data-table-rows-no-data",key:"no-data"},[h("td",{colspan:r.value.length},[((y=t["no-data"])==null?void 0:y.call(t))??m(e.noDataText)])]):h(K,null,[e.items.map((c,T)=>{var I;if(c.type==="group"){const P={index:T,item:c,columns:r.value,isExpanded:n,toggleExpand:s,isSelected:o,toggleSelect:i,toggleGroup:f,isGroupOpen:v};return t["group-header"]?t["group-header"](P):p(ia,$({key:`group-header_${c.id}`,item:c},De(a,":group-header",()=>P)),t)}const u={index:T,item:c.raw,internalItem:c,columns:r.value,isExpanded:n,toggleExpand:s,isSelected:o,toggleSelect:i},S={...u,props:$({key:`item_${c.key??c.index}`,onClick:d.value?()=>{s(c)}:void 0,index:T,item:c,cellProps:e.cellProps,mobile:x.value},De(a,":row",()=>u),typeof e.rowProps=="function"?e.rowProps({item:u.item,index:u.index,internalItem:u.internalItem}):e.rowProps)};return h(K,{key:S.props.key},[t.item?t.item(S):p(ca,S.props,t),n(c)&&((I=t["expanded-row"])==null?void 0:I.call(t,u))])})])}),{}}}),et=V({fixedHeader:Boolean,fixedFooter:Boolean,height:[Number,String],hover:Boolean,striped:{type:String,default:null,validator:e=>["even","odd"].includes(e)},...It(),...Tt(),...Dt(),...kt()},"VTable"),Fe=H()({name:"VTable",props:et(),setup(e,l){let{slots:a,emit:t}=l;const{themeClasses:r}=Pt(e),{densityClasses:d}=wt(e);return Q(()=>p(e.tag,{class:Y(["v-table",{"v-table--fixed-height":!!e.height,"v-table--fixed-header":e.fixedHeader,"v-table--fixed-footer":e.fixedFooter,"v-table--has-top":!!a.top,"v-table--has-bottom":!!a.bottom,"v-table--hover":e.hover,"v-table--striped-even":e.striped==="even","v-table--striped-odd":e.striped==="odd"},r.value,d.value,e.class]),style:_e(e.style)},{default:()=>{var s,n,o;return[(s=a.top)==null?void 0:s.call(a),a.default?h("div",{class:"v-table__wrapper",style:{height:B(e.height)}},[h("table",null,[a.default()])]):(n=a.wrapper)==null?void 0:n.call(a),(o=a.bottom)==null?void 0:o.call(a)]}})),{}}}),fa=V({items:{type:Array,default:()=>[]},itemValue:{type:[String,Array,Function],default:"id"},itemSelectable:{type:[String,Array,Function],default:null},rowProps:[Object,Function],cellProps:[Object,Function],returnObject:Boolean},"DataTable-items");function va(e,l,a,t){const r=e.returnObject?l:te(l,e.itemValue),d=te(l,e.itemSelectable,!0),s=t.reduce((n,o)=>(o.key!=null&&(n[o.key]=te(l,o.value)),n),{});return{type:"item",key:e.returnObject?te(l,e.itemValue):r,index:a,value:r,selectable:d,columns:s,raw:l}}function ma(e,l,a){return l.map((t,r)=>va(e,t,r,a))}function ga(e,l){return{items:D(()=>ma(e,e.items,l.value))}}const ba=V({...Ze(),hideDefaultBody:Boolean,hideDefaultFooter:Boolean,hideDefaultHeader:Boolean,width:[String,Number],search:String,...Et(),...$t(),...ta(),...fa(),...Ut(),...Xt(),...Ye(),...et()},"DataTable"),ha=V({...Mt(),...ba(),..._t(),...qe()},"VDataTable"),Da=H()({name:"VDataTable",props:ha(),emits:{"update:modelValue":e=>!0,"update:page":e=>!0,"update:itemsPerPage":e=>!0,"update:sortBy":e=>!0,"update:options":e=>!0,"update:groupBy":e=>!0,"update:expanded":e=>!0,"update:currentItems":e=>!0},setup(e,l){let{attrs:a,slots:t}=l;const{groupBy:r}=Nt(e),{sortBy:d,multiSort:s,mustSort:n}=Jt(e),{page:o,itemsPerPage:i}=jt(e),{disableSort:f}=Vt(e),{columns:v,headers:m,sortFunctions:x,sortRawFunctions:b,filterFunctions:y}=sa(e,{groupBy:r,showSelect:C(()=>e.showSelect),showExpand:C(()=>e.showExpand)}),{items:c}=ga(e,v),T=C(()=>e.search),{filteredItems:u}=Bt(e,c,T,{transform:N=>N.columns,customKeyFilter:y}),{toggleSort:S}=Yt({sortBy:d,multiSort:s,mustSort:n,page:o}),{sortByWithGroups:I,opened:P,extractRows:_,isGroupOpen:R,toggleGroup:E}=Rt({groupBy:r,sortBy:d,disableSort:f}),{sortedItems:w}=Zt(e,u,I,{transform:N=>({...N.raw,...N.columns}),sortFunctions:x,sortRawFunctions:b}),{flatItems:g}=Gt(w,r,P),k=D(()=>g.value.length),{startIndex:F,stopIndex:A,pageCount:X,setItemsPerPage:G}=Wt({page:o,itemsPerPage:i,itemsLength:k}),{paginatedItems:L}=Kt({items:g,startIndex:F,stopIndex:A,itemsPerPage:i}),M=D(()=>_(L.value)),{isSelected:se,select:tt,selectAll:at,toggleSelect:lt,someSelected:nt,allSelected:rt}=Qt(e,{allItems:c,currentPage:M}),{isExpanded:ot,toggleExpand:st}=At(e);Lt({page:o,itemsPerPage:i,sortBy:d,groupBy:r,search:T}),Ft({VDataTableRows:{hideNoData:C(()=>e.hideNoData),noDataText:C(()=>e.noDataText),loading:C(()=>e.loading),loadingText:C(()=>e.loadingText)}});const O=D(()=>({page:o.value,itemsPerPage:i.value,sortBy:d.value,pageCount:X.value,toggleSort:S,setItemsPerPage:G,someSelected:nt.value,allSelected:rt.value,isSelected:se,select:tt,selectAll:at,toggleSelect:lt,isExpanded:ot,toggleExpand:st,isGroupOpen:R,toggleGroup:E,items:M.value.map(N=>N.raw),internalItems:M.value,groupedItems:L.value,columns:v.value,headers:m.value}));return Q(()=>{const N=Te.filterProps(e),ut=Ie.filterProps(e),it=Ve.filterProps(e),dt=Fe.filterProps(e);return p(Fe,$({class:["v-data-table",{"v-data-table--show-select":e.showSelect,"v-data-table--loading":e.loading},e.class],style:e.style},dt,{fixedHeader:e.fixedHeader||e.sticky}),{top:()=>{var J;return(J=t.top)==null?void 0:J.call(t,O.value)},default:()=>{var J,he,ye,xe,Se,pe;return t.default?t.default(O.value):h(K,null,[(J=t.colgroup)==null?void 0:J.call(t,O.value),!e.hideDefaultHeader&&h("thead",{key:"thead"},[p(Ie,ut,t)]),(he=t.thead)==null?void 0:he.call(t,O.value),!e.hideDefaultBody&&h("tbody",null,[(ye=t["body.prepend"])==null?void 0:ye.call(t,O.value),t.body?t.body(O.value):p(Ve,$(a,it,{items:L.value}),t),(xe=t["body.append"])==null?void 0:xe.call(t,O.value)]),(Se=t.tbody)==null?void 0:Se.call(t,O.value),(pe=t.tfoot)==null?void 0:pe.call(t,O.value)])},bottom:()=>t.bottom?t.bottom(O.value):!e.hideDefaultFooter&&h(K,null,[p(Ot,null,null),p(Te,N,{prepend:t["footer.prepend"]})])})}),{}}});export{Da as V};
