import{g as x,u as C,c as o,m as y,_ as T,n as h,ab as A,b as N,v as S,d as M,q as p,o as r,w as e,e as i,i as n,ac as P,F as c,s as R,ad as U,V as m,ae as V,j as F,h as v,af as z,f as l,k as j,ag as q}from"./index-CIHyU37z.js";import{V as D}from"./VContainer-Czllfyk0.js";import{m as E,V as H}from"./VToolbar-NoXfre1x.js";import{V as $}from"./VMenu-D_8JceEl.js";import{V as G,a as k,b as w}from"./VList-CdzutsXp.js";import{V as J}from"./VAppBar-BX0lS4R3.js";import"./VDivider-3u-8eSsr.js";const K=x()({name:"VAppBarTitle",props:E(),setup(f,t){let{slots:u}=t;return C(()=>o(H,y(f,{class:"v-app-bar-title"}),u)),{}}}),O=""+new URL("smoke-CvBRNM5B.mp4",import.meta.url).href,Q={__name:"default",setup(f){const t=h(),u=A(),B=N(),L=S(()=>[{title:"首頁",to:"/",icon:"mdi-home",show:!0},{title:"註冊",to:"/register",icon:"mdi-account-plus",show:t.isLoggedIn&&t.isAdmin},{title:"登入",to:"/login",icon:"mdi-login",show:!t.isLoggedIn},{title:"餐廳",to:"/restaurants",icon:"mdi-silverware-fork-knife",show:t.isLoggedIn},{title:"訂單",to:"/orders",icon:"mdi-invoice-list-outline",show:t.isLoggedIn},{title:"管理",to:"/admin",icon:"mdi-cog",show:t.isLoggedIn&&t.isAdmin}]),I=async()=>{try{await q.logout()}catch(d){console.error(d)}t.logout(),B.push("/"),u({text:"登出成功！",snackbarProps:{color:"green"}})};return(d,s)=>{const b=M("router-view");return r(),p(c,null,[o(J,null,{default:e(()=>[o(D,{class:"d-flex align-center","max-width":"lg"},{default:e(()=>[o(K,{class:"your-custom-class"},{default:e(()=>[o(P,{icon:"mdi-silverware-variant",style:{"vertical-align":"-5px"}}),s[0]||(s[0]=n("訂便當",-1))]),_:1,__:[0]}),(r(!0),p(c,null,R(L.value,a=>(r(),p(c,{key:a.to},[a.show?(r(),i(m,{key:0,class:"mx-1","prepend-icon":a.icon,size:"large",to:a.to},{default:e(()=>[n(V(a.title),1)]),_:2},1032,["prepend-icon","to"])):U("",!0)],64))),128)),o(F),v(t).isLoggedIn?(r(),i($,{key:0,location:"bottom end"},{activator:e(({props:a})=>[o(m,y(a,{icon:""}),{default:e(()=>[o(z,{color:"#CFB53B",size:"32"},{default:e(()=>{var g,_;return[l("span",null,V(((_=(g=v(t).account)==null?void 0:g.charAt(0))==null?void 0:_.toUpperCase())||"U"),1)]}),_:1})]),_:2},1040)]),default:e(()=>[o(G,null,{default:e(()=>[o(k,{to:"/orders/history"},{default:e(()=>[o(w,null,{default:e(()=>s[1]||(s[1]=[n("訂單紀錄",-1)])),_:1,__:[1]})]),_:1}),o(k,{onClick:I},{default:e(()=>[o(w,null,{default:e(()=>s[2]||(s[2]=[n("登出",-1)])),_:1,__:[2]})]),_:1})]),_:1})]),_:1})):(r(),i(m,{key:1,"prepend-icon":"mdi-login",to:"/login"},{default:e(()=>s[3]||(s[3]=[n("登入",-1)])),_:1,__:[3]}))]),_:1})]),_:1}),o(j,null,{default:e(()=>[s[4]||(s[4]=l("div",{class:"smoke-wrapper"},[l("video",{autoplay:"",class:"smoke-video",loop:"",muted:"",playsinline:""},[l("source",{src:O,type:"video/mp4"}),n(" 您的瀏覽器不支援 HTML5 影片。 ")])],-1)),(r(),i(b,{key:d.$route.fullPath}))]),_:1,__:[4]})],64)}}},se=T(Q,[["__scopeId","data-v-4808222d"]]);export{se as default};
