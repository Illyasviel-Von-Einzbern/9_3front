import{ab as _,r as y,e as k,w as t,o as l,c as r,f as i,q as n,F as V,s as b,ae as d}from"./index-CIHyU37z.js";import{o as g}from"./order-DL-Hqn57.js";import{b as m}from"./route-block-B_A1xBdJ.js";import{V as v}from"./VContainer-Czllfyk0.js";import{V as h,a as u}from"./VRow-BQerUWQv.js";import{V as w}from"./VDivider-3u-8eSsr.js";import{V as x}from"./VDataTable-f5nkd4zz.js";import"./VPagination-CLol_7gt.js";import"./VSelect-CxX8EwAn.js";import"./VList-CdzutsXp.js";import"./VMenu-D_8JceEl.js";import"./VCheckboxBtn-BFND6HbK.js";import"./VChip-Crq8nVJ7.js";import"./filter-BW8gkpM9.js";const D={__name:"oldOrders",setup(B){const p=_(),c=y([]),f=[{title:"ID",key:"_id"},{title:"日期",key:"createdAt",value:e=>new Date(e.createdAt).toLocaleString()},{title:"商品",key:"cart",sortable:!1},{title:"總金額",key:"totalPrice",value:e=>e.cart.reduce((a,o)=>a+o.product.price*o.quantity,0)}];return(async()=>{try{const{data:e}=await g.getMy();c.value=e.result}catch(e){console.error("Error fetching orders:",e),p({text:"無法載入訂單資料",snackbarProps:{color:"red"}})}})(),(e,a)=>(l(),k(v,null,{default:t(()=>[r(h,null,{default:t(()=>[r(u,{cols:"12"},{default:t(()=>a[0]||(a[0]=[i("h1",{class:"text-center"},"訂單",-1)])),_:1,__:[0]}),r(w),r(u,{cols:"12"},{default:t(()=>[r(x,{headers:f,items:c.value},{"item.cart":t(({value:o})=>[i("ul",null,[(l(!0),n(V,null,b(o,s=>(l(),n("li",{key:s._id},d(s.product.name)+" - "+d(s.quantity)+" 件 ",1))),128))])]),_:2},1032,["items"])]),_:1})]),_:1})]),_:1}))}};typeof m=="function"&&m(D);export{D as default};
